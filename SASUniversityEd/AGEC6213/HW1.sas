/* HOMEWORK */
DM 'LOG; CLEAR; ODSRESULTS; CLEAR; DATA; CLEAR;';
TITLE;
FOOTNOTE;
PROC IMPORT DATAFILE = '/Users/bmishra/Dropbox/OSU/PhD/Semester VI, Spring 2021/AGEC 6213 (Dropped)/Assignments/HW1/Nuclear Cost/nuclear.txt'
out = NUCLEAR
 dbms = dlm
 replace
 ;
 delimiter = '09'x;
 datarow = 3;
run;
/*
DATA ONE;
	INPUT C D T1 T2 S PR NE CT BW N PT @@;
	DATALINES;
460.05 68.58 14 46 687 0 1 0 0 14 0 452.99 67.33 10 73 1065 0 0 1 0 1 0
443.22 67.33 10 85 1065 1 0 1 0 1 0 652.32 68 11 67 1065 0 1 1 0 12 0 
642.23 68 11 78 1065 1 1 1 0 12 0 345.39 67.92 13 51 514 0 1 1 0 3 0
272.37 68.17 12 50 822 0 0 0 0 5 0 317.21 68.42 14 59 457 0 0 0 0 1 0
457.12 68.42 15 55 822 1 0 0 0 5 0 690.19 68.33 12 71 792 0 1 1 1 2 0
350.63 68.58 12 64 560 0 0 0 0 3 0 402.59 68.75 13 47 790 0 1 0 0 6 0
412.18 68.42 15 62 530 0 0 1 0 2 0 495.58 68.92 17 52 1050 0 0 0 0 7 0
394.36 68.92 13 65 850 0 0 0 1 16 0 423.32 68.42 11 67 778 0 0 0 0 3 0
712.27 69.5 18 60 845 0	1 0 0 17 0 289.66 68.42 15 76 530 1 0 1 0 2 0
881.24 69.17 15 67 1090 0 0 0 0 1 0 490.88 68.92 16 59 1050 1 0 0 0 8 0
567.79 68.75 11 70 913 0 0 1 1 15 0 665.99 70.92 22 57 828 1 1 0 0 20 0
621.45 69.67 16 59 786 0 0 1 0 18 0 608.8 70.08 19 58 821 1	0 0 0 3 0
473.64 70.42 19 44 538 0 0 1 0 19 0 697.14 71.08 20 57 1130 0 0 1 0	21 0
207.51 67.25 13 63 745 0 0 0 0 8 1 288.48 67.17 9 48 821 0 0 1 0 7 1
284.88 67.83 12 63 886 0 0 0 1 11 1 280.36 67.83 12 71 886 1 0 0 1 11 1
217.38 67.25 13 72 745 1 0 0 0 8 1 270.71 67.83 7 80 886 1 0 0 1 11 1
	;
	logc = log(c);
	logn=log(n);
	logs=LOG(S);
	logt1=LOG(T1);
	logt2=LOG(T2);
RUN;
*/
PROC PRINT DATA=ONE;
PROC REG;
	MODEL logc=pt ct logn logs d ne logt1 logt2 pr bw;
	MODEL logc=pt ct logn logs d ne;
	RUN;

PROC IML;
	USE ONE;
	READ ALL VAR {PT CT LOGN LOGS D NE LOGT1 LOGT2 PR BW} INTO EXOG;
	READ ALL VAR {LOGC} INTO Y;
	INTERCEPT=J (NORW(Y), 1, 1);
	X=INTERCEPT || EXOG;
	RNAME={'Constant' 'PT' 'CT' 'LOGN' 'LOGS' 'D' 'NE' 'LOGT1' 'LOGT2' 'PR' 'BW'};

	DO ii=1 TO 2;
		DF=NROW (X) - NCOL(X);
		BHAT=INV (X'* X)* X'*Y;
		E=Y - X*BHAT;
		SIG=E'*E/DF;
		VARCON = SIG * INV (X'* X);
		SE=SQRT(VECDIAG(VARCOV));
		CNAME={'ESTIMATE' 'STD ERROR'};
		OUT=BHAT|SE;
		PRINT OUT [ROWNAME=RNAME COLNAME=CNAME];
		X=X[, 1:7];
	END;
	STOP;
	QUIT;